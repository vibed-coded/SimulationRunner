# TODO: Add Player Entity to Grid

## Implementation Checklist

### 1. Create Player Entity Class ✅
- [x] Create `src/main/java/com/simulationrunner/entity/` directory
- [x] Create `Player.java` class in the entity package (as modern record)
- [x] Add fields: `gridX` and `gridY` (int) for grid coordinates
- [x] Implement static factory method `Player.createRandom(GridConfig config)` that:
  - [x] Uses `RandomGenerator` to generate random grid position
  - [x] Validates position is within grid bounds (0 to gridWidth-1, 0 to gridHeight-1)
- [x] Add getter methods: `gridX()` and `gridY()` (auto-generated by record)
- [x] Implement `render(GraphicsContext gc, GridConfig config)` method that:
  - [x] Calculates pixel position from grid coordinates
  - [x] Draws a blue circle at 60% of cell size
  - [x] Centers circle in the grid cell

### 2. Update Grid Class ✅
- [x] Add `private final Player player` field to `Grid.java`
- [x] Initialize player in Grid constructor: `this.player = Player.createRandom(config)`
- [x] Add `getPlayer()` getter method
- [x] Import Player entity class

### 3. Update App Class ✅
- [x] After grid line rendering, add player rendering
- [x] Call `grid.getPlayer().render(gc, config)` to draw the player
- [x] Ensure player renders on top of grid lines

### 4. Write Unit Tests
- [ ] Create `src/test/java/com/simulationrunner/entity/` directory
- [ ] Create `PlayerTest.java` test class
- [ ] Test: Player spawns within grid bounds
- [ ] Test: `getGridX()` and `getGridY()` return valid coordinates
- [ ] Test: Constructor with different grid sizes
- [ ] Test: Verify random spawn distribution (optional)

### 5. Testing & Validation ✅
- [x] Run all tests: `./mvnw test` (7 tests passed)
- [x] Build project: `./mvnw clean package`
- [x] Run application: `./mvnw javafx:run`
- [x] Visual verification:
  - [x] Blue circle appears on the grid
  - [x] Circle is centered in a grid cell
  - [x] Circle size is approximately 60% of cell size
  - [x] Each run spawns player at different random location

## Technical Details

**Player Implementation (Java 25 Modern Features):**
- Implemented as a `record` for immutability and conciseness
- Uses `RandomGenerator` interface (modern Java) instead of `Random`
- Static factory method `createRandom()` for explicit random creation
- Compact constructor with validation
- Auto-generated `gridX()` and `gridY()` accessor methods

**Player Rendering:**
- Color: `Color.BLUE`
- Circle diameter: `cellSize * 0.6`
- Position: Center of grid cell at coordinates (gridX, gridY)
- Pixel calculation:
  - centerX = (gridX * cellSize) + (cellSize / 2)
  - centerY = (gridY * cellSize) + (cellSize / 2)
  - radius = (cellSize * 0.6) / 2

**Future Enhancement (Not in this TODO):**
- WASD keyboard input for player movement
- Collision detection
- Multiple entity types (Key, Door, Enemy)
